# 差分数组

[toc]

## 概念

将对数组的一个区间的操作转换为对数组中的两个元素的操作。

考虑数组$a=[1,3,3,5,8]$，对其中的元素两两作差（右减左），得到数$[2,0,2,3]$。然后将$a[0]$​补在开头，得到差分数组
$$
d=[1,2,0,2,3]
$$
我们对$d$中的元素从左到右累加，就可以还原数组$a=[1,3,3,5,8]$。

此时将$a[1],a[2],a[3]$都加上10，得到$a'=[1,13,13,15,18]$。再次求$a'$的差分数组：
$$
d'=[1,2,0,2,3]
$$
$d$和$d'$相比，只有$d[1]$和$d[4]$变化了，也就说明对于$a$中的连续子数组的操作，转换为了对差分数组$d$中的两个数的操作。

定义数组$a$的差分数组为：
$$

$$
